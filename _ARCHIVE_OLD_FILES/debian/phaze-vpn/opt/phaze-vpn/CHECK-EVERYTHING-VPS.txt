# ============================================
# COPY-PASTE THIS ON THE VPS TO CHECK EVERYTHING
# ============================================

echo "=========================================="
echo "üîç COMPLETE VPS DIAGNOSTIC"
echo "=========================================="
echo ""

echo "1Ô∏è‚É£ VPS INFO"
echo "----------------------------------------"
hostname
uname -a
uptime
echo ""

echo "2Ô∏è‚É£ FIREWALL (iptables)"
echo "----------------------------------------"
iptables -L INPUT -n --line-numbers | head -15
echo ""

echo "3Ô∏è‚É£ UFW STATUS"
echo "----------------------------------------"
ufw status 2>/dev/null || echo "UFW not active or not installed"
echo ""

echo "4Ô∏è‚É£ DNS CONFIGURATION"
echo "----------------------------------------"
cat /etc/resolv.conf
echo ""

echo "5Ô∏è‚É£ RUNNING SERVICES"
echo "----------------------------------------"
systemctl list-units --type=service --state=running | grep -E 'openvpn|ssh|nginx|apache|flask|python|web'
echo ""

echo "6Ô∏è‚É£ OPENVPN STATUS"
echo "----------------------------------------"
systemctl status openvpn 2>&1 | head -10
echo ""

echo "7Ô∏è‚É£ VPN FILES CHECK"
echo "----------------------------------------"
echo "Checking /opt/secure-vpn/:"
ls -la /opt/secure-vpn/ 2>/dev/null | head -15 || echo "   ‚ùå /opt/secure-vpn/ not found"
echo ""
echo "Checking /etc/openvpn/:"
ls -la /etc/openvpn/ 2>/dev/null | head -10 || echo "   ‚ùå /etc/openvpn/ not found"
echo ""

echo "8Ô∏è‚É£ WEB PORTAL CHECK"
echo "----------------------------------------"
echo "Checking web-portal:"
ls -la /opt/secure-vpn/web-portal/ 2>/dev/null | head -10 || echo "   ‚ùå web-portal not found"
echo ""

echo "9Ô∏è‚É£ NETWORK INTERFACES"
echo "----------------------------------------"
ip addr show | grep -E 'inet |^[0-9]:'
echo ""

echo "üîü LISTENING PORTS"
echo "----------------------------------------"
ss -tlnp 2>/dev/null | grep -E ':22|:80|:443|:1194' || netstat -tlnp 2>/dev/null | grep -E ':22|:80|:443|:1194'
echo ""

echo "1Ô∏è‚É£1Ô∏è‚É£ DISK SPACE"
echo "----------------------------------------"
df -h | head -5
echo ""

echo "1Ô∏è‚É£2Ô∏è‚É£ MEMORY USAGE"
echo "----------------------------------------"
free -h
echo ""

echo "=========================================="
echo "‚úÖ DIAGNOSTIC COMPLETE"
echo "=========================================="


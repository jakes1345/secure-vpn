# SecureVPN - Working Server Configuration
# Fixed configuration for reliable VPN operation

# Server Configuration
port 1194
proto udp
dev tun
topology subnet

# Network Configuration
server 10.8.0.0 255.255.255.0
ifconfig-pool-persist ipp.txt
push "redirect-gateway def1 bypass-dhcp"
push "dhcp-option DNS 1.1.1.1"
push "dhcp-option DNS 1.0.0.1"

# Military-Grade Encryption
cipher AES-256-GCM
auth SHA512
tls-version-min 1.2

# Perfect Forward Secrecy
dh "D:/secure-vpn/certs/dh.pem"

# Certificate Configuration (ABSOLUTE PATHS)
ca "D:/secure-vpn/certs/ca.crt"
cert "D:/secure-vpn/certs/server.crt"
key "D:/secure-vpn/certs/server.key"
tls-auth "D:/secure-vpn/certs/ta.key" 0

# Security Hardening
tls-server
remote-cert-tls client
verify-client-cert require
duplicate-cn

# Performance Optimization
tun-mtu 1500
mssfix 1400

# Connection Management
max-clients 100
persist-key
persist-tun
keepalive 10 120
comp-lzo no

# Logging
verb 3
status "D:/secure-vpn/logs/status.log" 10
log-append "D:/secure-vpn/logs/openvpn.log"
status-version 2

# Security Features
explicit-exit-notify 1
auth-nocache
reneg-sec 0

# Performance Tuning
sndbuf 1048576
rcvbuf 1048576
push "sndbuf 1048576"
push "rcvbuf 1048576"

# Advanced Security
push "block-outside-dns"

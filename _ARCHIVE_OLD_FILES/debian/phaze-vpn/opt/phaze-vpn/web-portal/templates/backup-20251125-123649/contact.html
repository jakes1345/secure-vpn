{% extends "base.html" %}

{% block title %}Contact Support - PhazeVPN{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h1>ðŸ“ž Contact Support</h1>
    </div>
    
    {% if error %}
    <div class="alert alert-error" style="margin-top: 1rem;">
        {{ error }}
    </div>
    {% endif %}
    
    {% if success %}
    <div class="alert alert-success" style="margin-top: 1rem;">
        {{ success }}
    </div>
    {% endif %}
    
    <div style="margin-top: 2rem;">
        <!-- Support Ticket Form -->
        <div style="background: rgba(255, 152, 0, 0.1); padding: 2rem; border-radius: 8px; border: 1px solid rgba(255, 152, 0, 0.3); margin-bottom: 2rem;">
            <h2 style="color: #ff9800; margin-bottom: 1rem;">ðŸ“‹ Create Support Ticket</h2>
            <p style="color: #aaa; margin-bottom: 1.5rem;">Submit a support ticket and track your request. Our team will respond as soon as possible.</p>
            
            {% if session.username %}
            <form method="POST" action="/contact">
                <div style="margin-bottom: 1rem;">
                    <label for="subject" style="display: block; color: #fff; margin-bottom: 0.5rem;">Subject *</label>
                    <input type="text" id="subject" name="subject" required 
                           style="width: 100%; padding: 0.75rem; background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1); border-radius: 4px; color: #fff;"
                           placeholder="Brief description of your issue">
                </div>
                
                <div style="margin-bottom: 1rem;">
                    <label for="email" style="display: block; color: #fff; margin-bottom: 0.5rem;">Email (Optional)</label>
                    <input type="email" id="email" name="email" 
                           style="width: 100%; padding: 0.75rem; background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1); border-radius: 4px; color: #fff;"
                           placeholder="your@email.com">
                    <small style="color: #aaa; font-size: 0.85rem;">We'll use this to notify you of updates</small>
                </div>
                
                <div style="margin-bottom: 1.5rem;">
                    <label for="message" style="display: block; color: #fff; margin-bottom: 0.5rem;">Message *</label>
                    <textarea id="message" name="message" required rows="6"
                              style="width: 100%; padding: 0.75rem; background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1); border-radius: 4px; color: #fff; resize: vertical;"
                              placeholder="Describe your issue in detail..."></textarea>
                </div>
                
                <button type="submit" class="btn btn-secondary" style="width: 100%;">
                    ðŸ“‹ Submit Ticket
                </button>
            </form>
            {% else %}
            <div style="background: rgba(0,0,0,0.3); padding: 1.5rem; border-radius: 8px;">
                <p style="color: #aaa; margin-bottom: 1rem;">Please login to submit a support ticket.</p>
                <a href="/login" class="btn btn-primary">Login</a>
                <a href="/signup" class="btn btn-secondary" style="margin-left: 0.5rem;">Sign Up</a>
            </div>
            {% endif %}
        </div>
        
        <!-- Other Support Options -->
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-bottom: 3rem;">
            <div style="background: rgba(74, 158, 255, 0.1); padding: 2rem; border-radius: 8px; border: 1px solid rgba(74, 158, 255, 0.3);">
                <h3 style="color: #4a9eff; margin-bottom: 1rem;">ðŸ’¬ Live Chat</h3>
                <p style="color: #aaa; margin-bottom: 1rem;">Get instant help from our support team</p>
                <button class="btn btn-primary" onclick="openLiveChat()" style="width: 100%;">Start Chat</button>
                <p style="color: #666; font-size: 0.85rem; margin-top: 1rem;">Available 24/7</p>
            </div>
            
            <div style="background: rgba(16, 185, 129, 0.1); padding: 2rem; border-radius: 8px; border: 1px solid rgba(16, 185, 129, 0.3);">
                <h3 style="color: #10b981; margin-bottom: 1rem;">ðŸ“§ Email Support</h3>
                <p style="color: #aaa; margin-bottom: 1rem;">Send us an email and we'll respond within 24 hours</p>
                <a href="mailto:support@phazevpn.com" class="btn btn-success" style="width: 100%; display: block; text-align: center;">Email Us</a>
                <p style="color: #666; font-size: 0.85rem; margin-top: 1rem;">support@phazevpn.com</p>
            </div>
        </div>
        
        <!-- View My Tickets (if logged in) -->
        {% if session.username %}
        <div style="background: rgba(0,0,0,0.3); padding: 2rem; border-radius: 8px; margin-top: 2rem;">
            <h2 style="color: #4a9eff; margin-bottom: 1rem;">ðŸ“‹ My Support Tickets</h2>
            <p style="color: #aaa; margin-bottom: 1rem;">View and track your support tickets</p>
            <a href="/tickets" class="btn btn-primary">View My Tickets</a>
        </div>
        {% endif %}
        
        <div style="background: rgba(0,0,0,0.3); padding: 2rem; border-radius: 8px; margin-top: 2rem;">
            <h2 style="color: #4a9eff; margin-bottom: 1rem;">Before Contacting Support</h2>
            <p style="color: #aaa; margin-bottom: 1rem;">Check these resources first:</p>
            <ul style="color: #aaa; margin-left: 2rem;">
                <li><a href="/faq" style="color: #4a9eff;">FAQ</a> - Answers to common questions</li>
                <li><a href="/guide" style="color: #4a9eff;">Setup Guide</a> - Step-by-step installation</li>
                <li><a href="/download" style="color: #4a9eff;">Download Page</a> - Get the client</li>
            </ul>
        </div>
    </div>
</div>

<script>
function openLiveChat() {
    // For now, open email. Can integrate actual chat widget later
    window.location.href = 'mailto:support@phazevpn.com?subject=Support Request';
}
</script>
{% endblock %}
